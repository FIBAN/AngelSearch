<angel-filter-controls
  (filterChanged)="filterChanged($event)"
  [countries]="countries"
  [cities]="cities"
  [industries]="industries"
></angel-filter-controls>

<ngx-datatable
  id="angelTable"
  class="bootstrap"
  [columnMode]="'flex'"
  [rows]="angels | angelFilter:filter"
  [rowHeight]="undefined"
  [columns]="columns"
  [reorderable]="false"
  [sorts]="[{prop: 'first_name', order: 'desc'}]"
>

  <ng-template #cityCountryTmpl let-row="row" let-value="value">
    {{locationString(row.city, row.country)}}
  </ng-template>

  <ng-template #nameTmpl let-row="row" let-value="value">
    <a [routerLink]="['/angels', row.id]" routerLinkActive="true">{{row.first_name}} {{row.last_name}}</a>
  </ng-template>

  <ng-template #industriesTmpl let-row="row" let-value="value">
    <span *ngFor="let industry of value.slice(0, 3)" class="badge badge-primary industry-badge">{{industry}}</span>
    <span *ngIf="value.length > 3">...</span>
  </ng-template>

  <ng-template #linkedInTmpl let-row="row" let-value="value">
    <a *ngIf="value" href="https://www.linkedin.com/in/{{value}}/" class="linkedin-link"><i class="fa fa-linkedin-square" aria-hidden="true"></i> profile</a>
  </ng-template>
</ngx-datatable>


