<angel-filter-controls
  (filterChanged)="filterChanged($event)"
  [countries]="countries"
  [cities]="cities"
  [industries]="industries"
></angel-filter-controls>

<table class="table table-sm" id="angelTable">
  <thead>
    <th>
      <a href="#" (click)="onSort('first_name'); false;">Name</a>
      <span *ngIf="sortBy === 'first_name' && !reverseSort" class="fa fa-caret-down"></span>
      <span *ngIf="sortBy === 'first_name' && reverseSort" class="fa fa-caret-up"></span>
    </th>
    <th>
      <a href="#" (click)="onSort('city'); false;">Location</a>
      <span *ngIf="sortBy === 'city' && !reverseSort" class="fa fa-caret-down"></span>
      <span *ngIf="sortBy === 'city' && reverseSort" class="fa fa-caret-up"></span>
    </th>
    <th class="d-none d-lg-table-cell">
      <a href="#" (click)="onSort('industries'); false;">Industries</a>
      <span *ngIf="sortBy === 'industries' && !reverseSort" class="fa fa-caret-down"></span>
      <span *ngIf="sortBy === 'industries' && reverseSort" class="fa fa-caret-up"></span>
    </th>
    <th class="d-none d-md-table-cell">
      <a href="#" (click)="onSort('investment_level'); false;">Investments</a>
      <span *ngIf="sortBy === 'investment_level' && !reverseSort" class="fa fa-caret-down"></span>
      <span *ngIf="sortBy === 'investment_level' && reverseSort" class="fa fa-caret-up"></span>
    </th>
    <th class="d-none d-md-table-cell">
      <a href="#" (click)="onSort('linkedin'); false;">LinkedIn</a>
      <span *ngIf="sortBy === 'linkedin' && !reverseSort" class="fa fa-caret-down"></span>
      <span *ngIf="sortBy === 'linkedin' && reverseSort" class="fa fa-caret-up"></span>
    </th>
  </thead>
  <tbody>
  <tr *ngFor="let angel of angels|angelFilter:filter|angelSorter:sortBy:reverseSort">
    <!-- Name -->
    <td>
      <a [routerLink]="['/angels', angel.id]" routerLinkActive="true">{{angel.first_name}} {{angel.last_name}}</a>
    </td>

    <!-- Location -->
    <td>
      {{locationString(angel.city, angel.country)}}
    </td>

    <!-- Industries -->
    <td class="d-none d-lg-table-cell industry-column">
      <div *ngIf="angel.industries" [class.many-industries]="angel?.industries.length > 3">
        <span *ngFor="let industry of angel.industries.slice(0, 3)" class="badge badge-primary industry-badge">{{industry}}</span>
      </div>
    </td>

    <!-- Investments -->
    <td class="d-none d-md-table-cell">
      <span *ngIf="angel.investment_level || angel.investment_level === 0">{{investmentLevels[angel.investment_level]}}</span>
    </td>

    <!-- LinkedIn -->
    <td class="d-none d-md-table-cell">
      <a *ngIf="angel.linkedin" target="_blank" href="https://www.linkedin.com/in/{{angel.linkedin}}/" class="linkedin-link"><i class="fa fa-linkedin-square" aria-hidden="true"></i> profile</a>
    </td>
  </tr>
  <tr *ngIf="!angels">
    <td colspan="5" class="text-center">Nothing to display</td>
  </tr>
  </tbody>
</table>


